{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.assertImpersonatedUserIsEmpty = exports.assertTxConfigIsEmpty = exports.assertDatabaseIsEmpty = void 0;\n/**\r\n * Copyright (c) \"Neo4j\"\r\n * Neo4j Sweden AB [http://neo4j.com]\r\n *\r\n * This file is part of Neo4j.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\n/**\r\n * @param {TxConfig} txConfig the auto-commit transaction configuration.\r\n * @param {function(error: string)} onProtocolError called when the txConfig is not empty.\r\n * @param {ResultStreamObserver} observer the response observer.\r\n */\n\n\nfunction assertTxConfigIsEmpty(txConfig, onProtocolError, observer) {\n  if (onProtocolError === void 0) {\n    onProtocolError = function () {};\n  }\n\n  if (txConfig && !txConfig.isEmpty()) {\n    var error = (0, neo4j_driver_core_1.newError)('Driver is connected to the database that does not support transaction configuration. ' + 'Please upgrade to neo4j 3.5.0 or later in order to use this functionality'); // unsupported API was used, consider this a fatal error for the current connection\n\n    onProtocolError(error.message);\n    observer.onError(error);\n    throw error;\n  }\n}\n\nexports.assertTxConfigIsEmpty = assertTxConfigIsEmpty;\n/**\r\n * Asserts that the passed-in database name is empty.\r\n * @param {string} database\r\n * @param {fuction(err: String)} onProtocolError Called when it doesn't have database set\r\n */\n\nfunction assertDatabaseIsEmpty(database, onProtocolError, observer) {\n  if (onProtocolError === void 0) {\n    onProtocolError = function () {};\n  }\n\n  if (database) {\n    var error = (0, neo4j_driver_core_1.newError)('Driver is connected to the database that does not support multiple databases. ' + 'Please upgrade to neo4j 4.0.0 or later in order to use this functionality'); // unsupported API was used, consider this a fatal error for the current connection\n\n    onProtocolError(error.message);\n    observer.onError(error);\n    throw error;\n  }\n}\n\nexports.assertDatabaseIsEmpty = assertDatabaseIsEmpty;\n/**\r\n * Asserts that the passed-in impersonated user is empty\r\n * @param {string} impersonatedUser\r\n * @param {function (err:Error)} onProtocolError Called when it does have impersonated user set\r\n * @param {any} observer\r\n */\n\nfunction assertImpersonatedUserIsEmpty(impersonatedUser, onProtocolError, observer) {\n  if (onProtocolError === void 0) {\n    onProtocolError = function () {};\n  }\n\n  if (impersonatedUser) {\n    var error = (0, neo4j_driver_core_1.newError)('Driver is connected to the database that does not support user impersonation. ' + 'Please upgrade to neo4j 4.4.0 or later in order to use this functionality. ' + (\"Trying to impersonate \" + impersonatedUser + \".\")); // unsupported API was used, consider this a fatal error for the current connection\n\n    onProtocolError(error.message);\n    observer.onError(error);\n    throw error;\n  }\n}\n\nexports.assertImpersonatedUserIsEmpty = assertImpersonatedUserIsEmpty;","map":{"version":3,"sources":["D:/Documents/EMA/Mines A3/NoSQL/ReseauAchats/reseau_achats/node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-util.js"],"names":["Object","defineProperty","exports","value","assertImpersonatedUserIsEmpty","assertTxConfigIsEmpty","assertDatabaseIsEmpty","neo4j_driver_core_1","require","txConfig","onProtocolError","observer","isEmpty","error","newError","message","onError","database","impersonatedUser"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,6BAAR,GAAwCF,OAAO,CAACG,qBAAR,GAAgCH,OAAO,CAACI,qBAAR,GAAgC,KAAK,CAA7G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIC,mBAAmB,GAAGC,OAAO,CAAC,mBAAD,CAAjC;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASH,qBAAT,CAA+BI,QAA/B,EAAyCC,eAAzC,EAA0DC,QAA1D,EAAoE;AAChE,MAAID,eAAe,KAAK,KAAK,CAA7B,EAAgC;AAAEA,IAAAA,eAAe,GAAG,YAAY,CAAG,CAAjC;AAAoC;;AACtE,MAAID,QAAQ,IAAI,CAACA,QAAQ,CAACG,OAAT,EAAjB,EAAqC;AACjC,QAAIC,KAAK,GAAG,CAAC,GAAGN,mBAAmB,CAACO,QAAxB,EAAkC,0FAC1C,2EADQ,CAAZ,CADiC,CAGjC;;AACAJ,IAAAA,eAAe,CAACG,KAAK,CAACE,OAAP,CAAf;AACAJ,IAAAA,QAAQ,CAACK,OAAT,CAAiBH,KAAjB;AACA,UAAMA,KAAN;AACH;AACJ;;AACDX,OAAO,CAACG,qBAAR,GAAgCA,qBAAhC;AACA;AACA;AACA;AACA;AACA;;AACA,SAASC,qBAAT,CAA+BW,QAA/B,EAAyCP,eAAzC,EAA0DC,QAA1D,EAAoE;AAChE,MAAID,eAAe,KAAK,KAAK,CAA7B,EAAgC;AAAEA,IAAAA,eAAe,GAAG,YAAY,CAAG,CAAjC;AAAoC;;AACtE,MAAIO,QAAJ,EAAc;AACV,QAAIJ,KAAK,GAAG,CAAC,GAAGN,mBAAmB,CAACO,QAAxB,EAAkC,mFAC1C,2EADQ,CAAZ,CADU,CAGV;;AACAJ,IAAAA,eAAe,CAACG,KAAK,CAACE,OAAP,CAAf;AACAJ,IAAAA,QAAQ,CAACK,OAAT,CAAiBH,KAAjB;AACA,UAAMA,KAAN;AACH;AACJ;;AACDX,OAAO,CAACI,qBAAR,GAAgCA,qBAAhC;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASF,6BAAT,CAAuCc,gBAAvC,EAAyDR,eAAzD,EAA0EC,QAA1E,EAAoF;AAChF,MAAID,eAAe,KAAK,KAAK,CAA7B,EAAgC;AAAEA,IAAAA,eAAe,GAAG,YAAY,CAAG,CAAjC;AAAoC;;AACtE,MAAIQ,gBAAJ,EAAsB;AAClB,QAAIL,KAAK,GAAG,CAAC,GAAGN,mBAAmB,CAACO,QAAxB,EAAkC,mFAC1C,6EAD0C,IAEzC,2BAA2BI,gBAA3B,GAA8C,GAFL,CAAlC,CAAZ,CADkB,CAIlB;;AACAR,IAAAA,eAAe,CAACG,KAAK,CAACE,OAAP,CAAf;AACAJ,IAAAA,QAAQ,CAACK,OAAT,CAAiBH,KAAjB;AACA,UAAMA,KAAN;AACH;AACJ;;AACDX,OAAO,CAACE,6BAAR,GAAwCA,6BAAxC","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.assertImpersonatedUserIsEmpty = exports.assertTxConfigIsEmpty = exports.assertDatabaseIsEmpty = void 0;\r\n/**\r\n * Copyright (c) \"Neo4j\"\r\n * Neo4j Sweden AB [http://neo4j.com]\r\n *\r\n * This file is part of Neo4j.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\r\n/**\r\n * @param {TxConfig} txConfig the auto-commit transaction configuration.\r\n * @param {function(error: string)} onProtocolError called when the txConfig is not empty.\r\n * @param {ResultStreamObserver} observer the response observer.\r\n */\r\nfunction assertTxConfigIsEmpty(txConfig, onProtocolError, observer) {\r\n    if (onProtocolError === void 0) { onProtocolError = function () { }; }\r\n    if (txConfig && !txConfig.isEmpty()) {\r\n        var error = (0, neo4j_driver_core_1.newError)('Driver is connected to the database that does not support transaction configuration. ' +\r\n            'Please upgrade to neo4j 3.5.0 or later in order to use this functionality');\r\n        // unsupported API was used, consider this a fatal error for the current connection\r\n        onProtocolError(error.message);\r\n        observer.onError(error);\r\n        throw error;\r\n    }\r\n}\r\nexports.assertTxConfigIsEmpty = assertTxConfigIsEmpty;\r\n/**\r\n * Asserts that the passed-in database name is empty.\r\n * @param {string} database\r\n * @param {fuction(err: String)} onProtocolError Called when it doesn't have database set\r\n */\r\nfunction assertDatabaseIsEmpty(database, onProtocolError, observer) {\r\n    if (onProtocolError === void 0) { onProtocolError = function () { }; }\r\n    if (database) {\r\n        var error = (0, neo4j_driver_core_1.newError)('Driver is connected to the database that does not support multiple databases. ' +\r\n            'Please upgrade to neo4j 4.0.0 or later in order to use this functionality');\r\n        // unsupported API was used, consider this a fatal error for the current connection\r\n        onProtocolError(error.message);\r\n        observer.onError(error);\r\n        throw error;\r\n    }\r\n}\r\nexports.assertDatabaseIsEmpty = assertDatabaseIsEmpty;\r\n/**\r\n * Asserts that the passed-in impersonated user is empty\r\n * @param {string} impersonatedUser\r\n * @param {function (err:Error)} onProtocolError Called when it does have impersonated user set\r\n * @param {any} observer\r\n */\r\nfunction assertImpersonatedUserIsEmpty(impersonatedUser, onProtocolError, observer) {\r\n    if (onProtocolError === void 0) { onProtocolError = function () { }; }\r\n    if (impersonatedUser) {\r\n        var error = (0, neo4j_driver_core_1.newError)('Driver is connected to the database that does not support user impersonation. ' +\r\n            'Please upgrade to neo4j 4.4.0 or later in order to use this functionality. ' +\r\n            (\"Trying to impersonate \" + impersonatedUser + \".\"));\r\n        // unsupported API was used, consider this a fatal error for the current connection\r\n        onProtocolError(error.message);\r\n        observer.onError(error);\r\n        throw error;\r\n    }\r\n}\r\nexports.assertImpersonatedUserIsEmpty = assertImpersonatedUserIsEmpty;\r\n"]},"metadata":{},"sourceType":"script"}