{"ast":null,"code":"/** PURE_IMPORTS_START tslib,_Subject,_Subscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from './Subject';\nimport { Subscription } from './Subscription';\n\nvar AsyncSubject = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(AsyncSubject, _super);\n\n  function AsyncSubject() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.value = null;\n    _this.hasNext = false;\n    _this.hasCompleted = false;\n    return _this;\n  }\n\n  AsyncSubject.prototype._subscribe = function (subscriber) {\n    if (this.hasError) {\n      subscriber.error(this.thrownError);\n      return Subscription.EMPTY;\n    } else if (this.hasCompleted && this.hasNext) {\n      subscriber.next(this.value);\n      subscriber.complete();\n      return Subscription.EMPTY;\n    }\n\n    return _super.prototype._subscribe.call(this, subscriber);\n  };\n\n  AsyncSubject.prototype.next = function (value) {\n    if (!this.hasCompleted) {\n      this.value = value;\n      this.hasNext = true;\n    }\n  };\n\n  AsyncSubject.prototype.error = function (error) {\n    if (!this.hasCompleted) {\n      _super.prototype.error.call(this, error);\n    }\n  };\n\n  AsyncSubject.prototype.complete = function () {\n    this.hasCompleted = true;\n\n    if (this.hasNext) {\n      _super.prototype.next.call(this, this.value);\n    }\n\n    _super.prototype.complete.call(this);\n  };\n\n  return AsyncSubject;\n}(Subject);\n\nexport { AsyncSubject };","map":{"version":3,"mappings":";AAAA,OAAO,KAAEA,OAAT,MAAwB,OAAxB;AAEA,SAASC,OAAT,QAAuB,WAAvB;AAQA;;IAAqCC,sCAAUC,MAAV,EAAU;AAA/CH;;WAAAE;AACU,gBAAKC,MAAU,KAAC,IAAX,IAAWA,6BAAX,IAAW,IAAhB;;AACAC,kBAAO,IAAP;AACAA;;AAmCT;AAhCC;;cACU,CAACC,UAAUC;QACjB,eAAW;AACXC,gBAAO,MAAP,CAAO,KAAaC,WAApB;AACD;WACC,SAAUC,YAAV,IAA0B,KAAEC,OAA5B,EAA4B;AAC5BH,gBAAU,CAACI,IAAX,CAAW,KAAUC,KAArB;AACAL,gBAAO,SAAP;AACD;AACD;;AACD;AAED;;cACO,CAAIF,UAACM,OAAc;QACtB,MAAKF,cAAc;AACnB,WAAKG,KAAL,GAAYA,KAAZ;AACD;AACF;AAED;;cACO,CAAIP,UAACQ,QAAc;QACtB,oBAAM;AACPV;AACF;AAED;;cACO,WAAYW,WAAQ;AACzB,SAAIL,YAAJ,GAAkB,IAAlB;;QACE;AACDN;AACD;;AACDA;AACH;;AAtCqC,SAAOD,YAAP;CAAA","names":["tslib_1","Subject","AsyncSubject","_super","_this","prototype","_subscribe","subscriber","thrownError","hasCompleted","hasNext","next","value","error","complete"],"sources":["D:\\Documents\\EMA\\Mines A3\\NoSQL\\ReseauAchats\\reseau_achats\\node_modules\\rxjs\\src\\internal\\AsyncSubject.ts"],"sourcesContent":["import { Subject } from './Subject';\r\nimport { Subscriber } from './Subscriber';\r\nimport { Subscription } from './Subscription';\r\n\r\n/**\r\n * A variant of Subject that only emits a value when it completes. It will emit\r\n * its latest value to all its observers on completion.\r\n *\r\n * @class AsyncSubject<T>\r\n */\r\nexport class AsyncSubject<T> extends Subject<T> {\r\n  private value: T = null;\r\n  private hasNext: boolean = false;\r\n  private hasCompleted: boolean = false;\r\n\r\n  /** @deprecated This is an internal implementation detail, do not use. */\r\n  _subscribe(subscriber: Subscriber<any>): Subscription {\r\n    if (this.hasError) {\r\n      subscriber.error(this.thrownError);\r\n      return Subscription.EMPTY;\r\n    } else if (this.hasCompleted && this.hasNext) {\r\n      subscriber.next(this.value);\r\n      subscriber.complete();\r\n      return Subscription.EMPTY;\r\n    }\r\n    return super._subscribe(subscriber);\r\n  }\r\n\r\n  next(value: T): void {\r\n    if (!this.hasCompleted) {\r\n      this.value = value;\r\n      this.hasNext = true;\r\n    }\r\n  }\r\n\r\n  error(error: any): void {\r\n    if (!this.hasCompleted) {\r\n      super.error(error);\r\n    }\r\n  }\r\n\r\n  complete(): void {\r\n    this.hasCompleted = true;\r\n    if (this.hasNext) {\r\n      super.next(this.value);\r\n    }\r\n    super.complete();\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}