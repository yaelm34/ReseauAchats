{"ast":null,"code":"var neo4j = require('neo4j-driver');\n\nvar session;\nexport default class Neo4j {\n  constructor() {\n    this.driver = neo4j.driver('bolt://localhost:7687', neo4j.auth.basic('neo4j', 'BDD'));\n  }\n\n  connect() {\n    session = this.driver.session();\n    session.run('match (i:Utilisateur {id:$nameParam})<-[:suit]-(:Utilisateur)-[r:achete]->(p:Produit) return p.id as product_id, p.nom as nom_produit, p.description as description_produit,  count(r) as nb_achats ORDER BY nb_achats DESC', {\n      nameParam: 986\n    }).then(result => {\n      result.records.forEach(record => {\n        console.log(record);\n      });\n    }).catch(error => {\n      console.log(error);\n    }).then(() => session.close());\n    return \"fait\";\n  }\n\n}","map":{"version":3,"sources":["D:/Documents/EMA/Mines A3/NoSQL/ReseauAchats/reseau_achats/src/Neo4j.js"],"names":["neo4j","require","session","Neo4j","constructor","driver","auth","basic","connect","run","nameParam","then","result","records","forEach","record","console","log","catch","error","close"],"mappings":"AAAA,IAAIA,KAAK,GAAGC,OAAO,CAAC,cAAD,CAAnB;;AAGE,IAAIC,OAAJ;AAIF,eAAe,MAAMC,KAAN,CAAW;AAEtBC,EAAAA,WAAW,GAAE;AACT,SAAKC,MAAL,GAAcL,KAAK,CAACK,MAAN,CACV,uBADU,EAEVL,KAAK,CAACM,IAAN,CAAWC,KAAX,CAAiB,OAAjB,EAA0B,KAA1B,CAFU,CAAd;AAIH;;AAGDC,EAAAA,OAAO,GAAE;AACLN,IAAAA,OAAO,GAAG,KAAKG,MAAL,CAAYH,OAAZ,EAAV;AAEAA,IAAAA,OAAO,CACZO,GADK,CACD,6NADC,EAC8N;AAClOC,MAAAA,SAAS,EAAE;AADuN,KAD9N,EAILC,IAJK,CAIAC,MAAM,IAAI;AACdA,MAAAA,MAAM,CAACC,OAAP,CAAeC,OAAf,CAAuBC,MAAM,IAAI;AAC/BC,QAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACD,OAFD;AAGD,KARK,EASLG,KATK,CASCC,KAAK,IAAI;AACdH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACD,KAXK,EAYLR,IAZK,CAYA,MAAMT,OAAO,CAACkB,KAAR,EAZN;AAaN,WAAO,MAAP;AACG;;AA3BqB","sourcesContent":["var neo4j = require('neo4j-driver')\r\n\r\n\r\n  var session;\r\n\r\n\r\n\r\nexport default class Neo4j{\r\n\r\n    constructor(){\r\n        this.driver = neo4j.driver(\r\n            'bolt://localhost:7687',\r\n            neo4j.auth.basic('neo4j', 'BDD')\r\n          );\r\n    }\r\n   \r\n\r\n    connect(){\r\n        session = this.driver.session()\r\n\r\n        session\r\n  .run('match (i:Utilisateur {id:$nameParam})<-[:suit]-(:Utilisateur)-[r:achete]->(p:Produit) return p.id as product_id, p.nom as nom_produit, p.description as description_produit,  count(r) as nb_achats ORDER BY nb_achats DESC', {\r\n    nameParam: 986\r\n  })\r\n  .then(result => {\r\n    result.records.forEach(record => {\r\n      console.log(record)\r\n    })\r\n  })\r\n  .catch(error => {\r\n    console.log(error)\r\n  })\r\n  .then(() => session.close())\r\n  return \"fait\";\r\n    }\r\n\r\n    \r\n\r\n}"]},"metadata":{},"sourceType":"module"}